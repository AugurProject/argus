# -*- coding: utf-8 -*-
from bs4 import BeautifulSoup
import nltk.data


#html="<p>Shrinking Alaskan glaciers served as a vivid backdrop for Barack Obama\u2019s latest push for action on climate change in Anchorage on Monday night as he warned that the equivalent of 75 blocks of ice the size of the national mall in Washington were melting from the state every year.<br /></p> <p>The president, who will visit the nearby Seward glacier on Tuesday to see its shrinkage for himself, urged international participants at the Glacier conference to act fast before it was too late to limit the impact not just on the region but the whole world.<br /></p> <aside class=\"element element-rich-link element--thumbnail\"> <p> <span>Related: </span><a href=\"http://www.theguardian.com/us-news/2015/aug/31/obama-running-wild-bear-grylls-alaska\">Obama to film episode of Running Wild with Bear Grylls during Alaska visit</a> </p> </aside>  <p>\u201cThe Arctic is at the leading edge of climate change, a leading indicator of what the entire planet faces,\u201d warned Obama, who said new research showed 75 gigatons of ice were disappearing from Alaskan glaciers annually \u2013 each gigaton the equivalent of a block stretching from the Capitol to the Lincoln memorial and four times as high as the Washington Monument.<br /></p> <p>\u201cClimate change is no longer some far-off problem,\u201d he added. \u201cClimate change is already disrupting our agriculture and ecosystems, our water and food supplies, our energy and infrastructure.\u201d<br /></p> <p>Obama struck an optimistic tone about the growing global consensus around the need to limit carbon dioxide emissions. \u201cThis year in Paris has to be the year that the world finally reaches an agreement to protect the one planet that we\u2019ve got while we still can,\u201d he said.</p> <p>\u201cThis is within our power. This is a solvable problem \u2013 if we start now.</p> <p>\u201cWe are starting to see that enough consensus is being built internationally and within each of our own body politics that we may have the political will to get moving.\u201d</p> <aside class=\"element element-rich-link element--thumbnail\"> <p> <span>Related: </span><a href=\"http://www.theguardian.com/us-news/2015/aug/31/obama-alaska-visit-climate-change\">Barack Obama heads to Alaska on mission to highlight climate change</a> </p> </aside>  <p>In particular the president hinted at further announcements during the remainder of his <a href=\"http://www.theguardian.com/us-news/2015/aug/31/obama-alaska-visit-climate-change\">three-day trip to Alaska</a>, which is designed to highlight the threat from carbon emissions and strengthen the domestic political case for new power station regulations.</p> <p>\u201cOver the course of the coming days I intend to speak more about the particular challenges facing Alaska and the United States as an Arctic power and intend to announce new measures to address them,\u201d he said.</p> <p>Nonetheless the president was greeted with environmental protests before his speech, with campaigners criticising his support for offshore oil drilling in the state.</p>"
html="<h2>Environment news</h2><p>\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/15/rate-of-environmental-degradation-puts-life-on-earth-at-risk-say-scientists\">Rate of environmental degradation puts life on Earth at risk, say scientists</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/15/axa-warns-companies-linked-fossil-fuel-risk-reputations\">Axa warns that companies linked to fossil fuels risk their reputations</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/15/pope-francis-says-climate-change-is-mostly-mans-fault\">Pope Francis says climate change is mostly man's fault</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/14/harvard-invests-tens-millions-dollars-fossil-fuels-face-divestment-campaign\">Harvard defies divestment campaigners and invests tens of millions of dollars in fossil fuels</a><br />\u2022\u00a0<a href=\"http://www.theguardian.com/environment/2015/jan/14/companies-will-be-legally-required-to-reveal-chemicals-used-for-fracking\">Companies will be legally required to reveal chemicals used for fracking</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/14/high-gold-prices-causing-increased-deforestation-in-south-america-study-finds\">High gold prices causing increased deforestation in South America, study finds</a><br />\u2022\u00a0<a href=\"http://www.theguardian.com/environment/2015/jan/14/green-biomass-boilers-may-waste-billions-public-money\">'Green' biomass boilers may waste billions in public money</a><br />\u2022 <a href=\"http://www.theguardian.com/us-news/2015/jan/13/keystone-oil-pipeline-democrat-senators-republicans-bill\">Ten Democratic senators vote with Republicans for Keystone XL pipeline</a><br />\u2022\u00a0<a href=\"http://www.theguardian.com/environment/2015/jan/13/obama-state-of-the-union-methane-regulation-climate-change\">Barack Obama moves to cut US methane emissions by almost half</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/13/gm-crops-to-be-fast-tracked-in-uk-following-eu-vote\">GM crops to be fast-tracked in UK following EU vote</a></p><h2>On the blogs</h2><p>\u2022 <a href=\"http://www.theguardian.com/environment/bike-blog/2015/jan/16/is-it-ok-to-get-off-your-bike-and-walk-up-hill\">Bike blog: Is it OK to get off your bike and walk up a hill?</a><br />\u2022\u00a0<a href=\"http://www.theguardian.com/environment/the-coral-triangle/2015/jan/14/indonesias-new-marine-laws-threaten-sustainable-fisheries\">Indonesia's new marine laws threaten sustainable fisheries</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/damian-carrington-blog/2015/jan/13/first-milk-prices-dairy-farmers-founder-member-business\">'If First Milk goes, that will finish my business overnight'</a><br />\u2022\u00a0<a href=\"http://www.theguardian.com/environment/climate-consensus-97-per-cent/2015/jan/14/antarctic-ice-sheet-a-sleeping-giant-beginning-to-stir\">The Antarctic ice sheet is a sleeping giant, beginning to stir</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/blog/2015/jan/13/climate-denier-ted-cruz-will-oversee-nasa-what-could-possibly-go-wrong\">Climate denier Ted Cruz will oversee Nasa \u2013 what could possibly go wrong?</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/andes-to-the-amazon/2015/jan/13/european-coke-habit-massacring-uncontacted-indigenous-people\">Does Europe's coke habit mean massacring 'uncontacted' indigenous people?</a></p><h2>Multimedia</h2><p>\u2022 <a href=\"http://www.theguardian.com/environment/ng-interactive/2015/jan/16/15-of-the-hottest-spots-around-the-world-in-2014\">15 of the hottest spots around the world in 2014 - interactive</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/gallery/2015/jan/13/hebeis-steel-cities-chinas-pollution-crisis-in-pictures\">Hebei's steel cities and China's pollution crisis \u2013 in pictures</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/12/blind-orangutan-released-into-wild-indonesia-after-sight-restored-gober\">Blind orangutan released into the wild in Indonesia after sight restored \u2013 video</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/gallery/2015/jan/09/the-week-in-wildlife-in-pictures\">The week in wildlife \u2013 in pictures</a></p><h2>Features and comment</h2><p>\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/15/it-is-impossible-todays-big-oil-companies-adapt-climate-change-jonathon-porritt\">Jonathon Porritt: It is 'impossible' for today's big oil companies to adapt to climate change</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/13/will-gadd-we-were-climbing-ice-that-isnt-going-there-next-week-climate-change\">Will Gadd: 'We were climbing ice that isn't going to be there next week'</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/13/-sp-mystery-of-the-missing-hen-harriers\">The mystery of the missing hen harriers</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/12/polands-shale-gas-revolution-evaporates-in-face-of-environmental-protests\">Poland's shale gas revolution evaporates in face of environmental protests</a><br />\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/11/pollutionwatch-dont-keep-fires-burning\">Pollutionwatch: Please don't keep the home fires burning</a></p><h2>...And finally</h2><p>\u2022 <a href=\"http://www.theguardian.com/environment/2015/jan/12/iceland-whale-testicle-beer\">Iceland brewery makes beer using smoked whale testicles</a><br />Conservationists hit out at the whaling industry's attempt to create a market for its products and criticised the use of an endangered creature's intimate body parts as a marketing tool.</p>"
html="• ahoj"
def sentence_split_guardian(html):
    html=html.replace(u"\\u201c", "\"")
    html=html.replace(u"\\u201d", "\"")
    html=html.replace(u"\\u2013", "-")
    html=html.replace(u"\\u2019", "'")
    html=html.replace(u"\\u2022", ".")
    html=html.replace(u"•", ".")
#    print html
    
    
    soup = BeautifulSoup(html)
    texts = soup.findAll(text=True)
    #print texts
    article=''
    relatednext=False
    for block in texts:
        if relatednext or 'Related:' in block:
            relatednext=not relatednext
            continue
        article+=block

    tokenizer = nltk.data.load('tokenizers/punkt/english.pickle')
    
#    print '\n-----\n'.join(tokenizer.tokenize(article)) 
    return tokenizer.tokenize(article)
    
#sentence_split_guardian(html)